<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>IFE</title>
</head>
<body>
	<div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
	<button id="fade-btn">淡出</button>
	<script>
		var div=document.getElementById('fade-obj');
		var btn=document.getElementById('fade-btn');
		var flag=1;
		btn.onclick=function (e) {
			e.target.disabled=true;// 点击淡出后按钮失效	
			var speed=0.3;//颜色改变速度
			if(flag>0){//设置初始的透明度
				div.style.opacity=1;
			}else{
				div.style.opacity=0;
			}
		var t=setInterval(function() {
			div.style.opacity-=flag*speed;
			if (div.style.opacity < 0 || div.style.opacity > 1) {
                clearInterval(t);
                e.target.disabled = false;//按钮生效
                if (flag > 0) {
                	e.target.innerText = '淡入';//淡出结束后将按钮文字改为淡入
                } 
                else {
                	e.target.innerText = '淡出';
                }
                flag *= -1;
		}
	},500);
}
	</script>
</body>
</html>



